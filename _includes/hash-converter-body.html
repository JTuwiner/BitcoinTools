{% assign lang = page.lang | default: "en" %}
{% assign t = site.data.hash-converter[lang] %}

<div id="hashCalc" data-lang="{{ lang }}" data-copied="{{ t.copied }}">
    <div class="hashrate-field">
        <input type="number" id="hash" name="hash" placeholder="{{ t.placeholder }}" />
        <button type="button" class="hash-copy-btn" style="display:none;" title="Copy"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg></button>
        <label for="hash" class="unit">H/s</label>
    </div>
    <div class="hashrate-field">
        <input type="number" id="kilohash" name="kilohash" placeholder="{{ t.placeholder }}" />
        <button type="button" class="hash-copy-btn" style="display:none;" title="Copy"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg></button>
        <label for="kilohash" class="unit">kH/s</label>
    </div>
    <div class="hashrate-field">
        <input type="number" id="megahash" name="megahash" placeholder="{{ t.placeholder }}" />
        <button type="button" class="hash-copy-btn" style="display:none;" title="Copy"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg></button>
        <label for="megahash" class="unit">MH/s</label>
    </div>
    <div class="hashrate-field">
        <input type="number" id="gigahash" name="gigahash" placeholder="{{ t.placeholder }}" />
        <button type="button" class="hash-copy-btn" style="display:none;" title="Copy"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg></button>
        <label for="gigahash" class="unit">GH/s</label>
    </div>
    <div class="hashrate-field">
        <input type="number" id="terahash" name="terahash" placeholder="{{ t.placeholder }}" />
        <button type="button" class="hash-copy-btn" style="display:none;" title="Copy"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg></button>
        <label for="terahash" class="unit">TH/s</label>
    </div>
    <div class="hashrate-field">
        <input type="number" id="petahash" name="petahash" placeholder="{{ t.placeholder }}" />
        <button type="button" class="hash-copy-btn" style="display:none;" title="Copy"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg></button>
        <label for="petahash" class="unit">PH/s</label>
    </div>
    <div class="hashrate-field">
        <input type="number" id="exahash" name="exahash" placeholder="{{ t.placeholder }}" />
        <button type="button" class="hash-copy-btn" style="display:none;" title="Copy"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg></button>
        <label for="exahash" class="unit">EH/s</label>
    </div>
    <button type="button" id="hashClearBtn" class="hash-clear-btn">{{ t.clear_button }}</button>
</div>

<br>

<h3>{{ t.helpful_links_heading }}</h3>
<ul>
  <li><a class="helpful-link-hash" target="_blank" href="https://charts.bitbo.io/mining-difficulty/">{{ t.link_difficulty }}</a></li>
  <li><a class="helpful-link-hash" target="_blank" href="https://charts.bitbo.io/hashrate/">{{ t.link_hashrate }}</a></li>
  <li><a class="helpful-link-hash" target="_blank" href="https://bitbo.io/">{{ t.link_stats }}</a></li>
</ul>

<br>
<br>

<h2>{{ t.table_heading }}</h2>

<table id="conversionTable" border="1" style="width: 100%; border-collapse: collapse; margin-top: 20px;">
    <thead>
        <tr>
            <th>{{ t.table_unit }}</th>
            <th>{{ t.table_value }}</th>
        </tr>
    </thead>
    <tbody>
        <tr><td>H/s</td><td>1,000,000,000,000</td></tr>
        <tr><td>kH/s</td><td>1,000,000,000</td></tr>
        <tr><td>MH/s</td><td>1,000,000</td></tr>
        <tr><td>GH/s</td><td>1,000</td></tr>
        <tr><td>TH/s</td><td>1</td></tr>
        <tr><td>PH/s</td><td>0.001</td></tr>
        <tr><td>EH/s</td><td>0.000001</td></tr>
    </tbody>
</table>

<h2>{{ t.how_heading }}</h2>
<p>{{ t.how_intro }}</p>
<ul>
  {% for step in t.how_steps %}
  <li>{{ step }}</li>
  {% endfor %}
</ul>

<h2>{{ t.converting_heading }}</h2>
<p>{{ t.converting_intro }}</p>
<ul>
    <li><strong>{{ t.converting_basic }}</strong></li>
    <li><strong>{{ t.converting_factors_label }}</strong>
        <ul>
          {% for factor in t.converting_factors %}
          <li>{{ factor }}</li>
          {% endfor %}
        </ul>
    </li>
    <li><strong>{{ t.converting_manual }}</strong></li>
    <li><strong>{{ t.converting_online }}</strong></li>
</ul>

<style>
#hashCalc {
    background-color: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    width: 100%;
    max-width: 600px;
    margin: auto;
}

.hashrate-field {
    position: relative;
    margin-bottom: 12px;
}

.hashrate-field--active {
    border-left: 3px solid #f2a900;
    padding-left: 4px;
}

#hashCalc input[type="number"] {
  width: 100%;
  -webkit-appearance: textfield;
  -moz-appearance: textfield;
  padding: 12px 90px 12px 20px;
  font-weight: 500;
  border: 1px solid #c3c3c3;
  box-sizing: border-box;
}

.unit {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    font-weight: bold;
    pointer-events: none;
    color: black;
}

input[type=number]:focus {
    border-color: blue;
    outline: none;
}

.hash-copy-btn {
    position: absolute;
    right: 52px;
    top: 50%;
    transform: translateY(-50%);
    background: none;
    border: 1px solid #c3c3c3;
    border-radius: 4px;
    cursor: pointer;
    padding: 4px 6px;
    color: #666;
    line-height: 1;
    font-size: 11px;
}

.hash-copy-btn:hover {
    background: #f0f0f0;
    color: #333;
}

.hash-copy-btn--copied {
    color: #f2a900;
    border-color: #f2a900;
}

.hash-clear-btn {
    display: block;
    width: 100%;
    margin-top: 8px;
    padding: 10px;
    background: none;
    border: 1px solid #c3c3c3;
    border-radius: 6px;
    cursor: pointer;
    font-size: 14px;
    font-weight: 500;
    color: #333;
}

.hash-clear-btn:hover {
    background: #f5f5f5;
}

@media (prefers-color-scheme: dark) {
  #conversionTable td,
  #conversionTable th {
    color: white;
  }
}
</style>
